<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<style>
    span{
        margin-left: 100px;
        color: lightblue;
        cursor: pointer;
    }
    span:hover{
        color: blue;
    }
</style>
<body>
    <div id = "container">
        <h1>ì°¸ì„ì ëª…ë‹¨</h1>
        <form action="">
            <input type="text" id="userName" placeholder="ì´ë¦„" required>
            <button onclick="newRegister(); return false;">ì‹ ì²­</button> <!--ë²„íŠ¼ì— ì´ë²¤íŠ¸ í•¨ìˆ˜ì§€ì •-->
        </form>
        <hr>
        <div id="nameList">
            <!--<p>í™ê¸¸ë™<span class="del">X</span></p>
            <p>ë°±ë‘ì‚°<span class="del">X</span></p>
            <p>ë„ë ˆë¯¸<span class="del">X</span></p>-->
        </div>
    </div>
    <script>
        function newRegister(){
            let newP = document.createElement("p"); //ìƒˆ ìš”ì†Œ ë§Œë“¤ê¸°.
            let userName = document.getElementById("userName"); //í…ìŠ¤íŠ¸ í•„ë“œ ë‚´ìš© ê°€ì ¸ì˜¤ê¸°. //ğŸ¤©#ì•ˆí•¨
            let newText = document.createTextNode(userName.value); //ìƒˆ í…ìŠ¤íŠ¸ ë…¸ë“œ ë§Œë“¤ê¸°.
            newP.appendChild(newText); //newTextë…¸ë“œë¥¼ newPë…¸ë“œì˜ ìì‹ ë…¸ë“œë¡œ ì—°ê²°.
            
            let nameList = document.querySelector("#nameList");
             //ë¶€ëª¨ ë…¸ë“œ ê°€ì ¸ì™€ nameListë³€ìˆ˜ì— ì €ì¥
            nameList.appendChild(newP);
            userName.value=""; //í…ìŠ¤íŠ¸ í•„ë“œ ë¹„ìš°ê¸°.
            
            /////////////////////////////////////////

            let delBtn = document.createElement("span"); //ìƒˆ span ìš”ì†Œ ë§Œë“¤ê¸°
            let delText = document.createTextNode("X"); //ìƒˆ í…ìŠ¤íŠ¸ ë…¸ë“œ ë§Œë“¤ê¸°
            delBtn.setAttribute("class", "del"); //ë²„íŠ¼ì— class ì†ì„± ì„¤ì •í•˜ê¸°
            delBtn.appendChild(delText); //í…ìŠ¤íŠ¸ë…¸ë“œë¥¼ btnìš”ì†Œì˜ ìì‹ ìš”ì†Œë¡œ ì¶”ê°€í•˜ê¸°
            newP.appendChild(delBtn); //ğŸ¤—ğŸ¨ğŸ§§delë²„íŠ¼ì„ pìš”ì†Œì˜ ìì‹ ìš”ì†Œë¡œ ì¶”ê°€í•˜ê¸° 

            //document.querySelectorAll("p")[0]
            //nameList.insertBefore(nameList.children[2], nameList.children[0]) //ì•ì— ì¶”ê°€í• ë…¸ë“œ, ê¸°ì¤€ ë…¸ë“œ

            let removBtns = document.querySelectorAll(".del");
            for(let i=0; i<removBtns.length; i++){
                removBtns[i].addEventListener("click", function(){
                    if(this.parentNode.parentNode) //í˜„ì¬ ë…¸ë“œ(this)ì˜ ë¶€ëª¨ ë…¸ë“œì˜ ë¶€ëª¨ ë…¸ë“œê°€ ìˆì„ ê²½ìš°
                    this.parentNode.parentNode.removeChild(this.parentNode);//thisì˜ ë¶€ëª¨'së¶€ëª¨ì°¾ì•„ this'së¶€ëª¨pì‚­ì œ
                });
            }
        }
        
        
    </script>
</body>
</html>