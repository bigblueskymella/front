<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
</head>

<body>
    <section>
        <h3>수강생 명단</h3>

        <div id="result">

        </div>
    </section>


    <script>

        //라이브서버로 확인하기
        
        // XMLHttpRequest 이용 JSON자료 가져오기.
        //   let xhr = new XMLHttpRequest();
        //   xhr.open("GET", "student2.json");
        //   xhr.send();

        //   xhr.onreadystatechange = function () {
        //     if (xhr.readyState === 4 && xhr.status === 200) {
        //       let students = JSON.parse(xhr.responseText);
        //       renderHTML(students);
        //     }
        //   };

        //   function renderHTML(contents) {
        //     let output = "";
        //     for (let content of contents) {
        //       output += `
        //         <h2>${content.name}</h2>
        //         <ul>
        //             <li>전공 : ${content.major}</li>
        //             <li>학년 : ${content.grade}</li>
        //         </ul>
        //         <hr>
        //         `;
        //     }
        //     document.getElementById("result").innerHTML = output;
        //   }


        // fetch 이용 JSON자료 가져오기.
        fetch('student2.json') //json파일 읽기
            .then(response => response.json()) //json파일을 객체로 변환
            .then(json => { //객체를 출력
                let output = '';
                json.forEach(student => {
                    output += `
          <h2>${student.name}</h2>
            <ul>
                <li>전공 : ${student.major}</li>
                <li>학년 : ${student.grade}</li>
            </ul>
            <hr>
          `;
                });
                document.querySelector('#result').innerHTML = output;
            })
            .catch(error => console.log(error)); //오류발생시 오류보여줌.

    </script>
</body>

</html>